{"version":3,"sources":["webpack:///./src/renderer/views/module/usrm/RoleMgr.vue?1aaf","webpack:///./src/renderer/views/module/usrm/Role_edit.vue?9676","webpack:///./src/renderer/views/module/usrm/Role_menu.vue?f996","webpack:///src/renderer/views/module/usrm/Role_menu.vue","webpack:///./src/renderer/views/module/usrm/Role_menu.vue?dfad","webpack:///./src/renderer/views/module/usrm/Role_menu.vue","webpack:///src/renderer/views/module/usrm/Role_edit.vue","webpack:///./src/renderer/views/module/usrm/Role_edit.vue?c804","webpack:///./src/renderer/views/module/usrm/Role_edit.vue","webpack:///src/renderer/views/module/usrm/RoleMgr.vue","webpack:///./src/renderer/views/module/usrm/RoleMgr.vue?e725","webpack:///./src/renderer/views/module/usrm/RoleMgr.vue","webpack:///./src/renderer/api/usrm/sysOrgMgrApi.js","webpack:///./src/renderer/api/usrm/sysRoleMgrApi.js","webpack:///./src/renderer/api/usrm/sysPermMgrApi.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","wrap","justifyContent","grow","width","slot","alignItems","staticClass","_v","type","size","circle","icon","title","on","click","handleAddRole","handleQueryRole","plain","$event","$refs","resetFields","direction","ref","model","roleForm","label-position","label-width","label","prop","options","orgTree","props","orgTreeProps","clearable","value","callback","$$v","$set","expression","maxlength","show-word-limit","border","index","auto-load","highlight-current-row","auto-update","column-button","csv-button","load-data-func","loadRole","pageOptions","show-overflow-tooltip","scopedSlots","_u","key","fn","scope","row","orgUuid","orgViewProps","disabled","align","handleEditRole","handleDelRole","visible","showRoleDia","top","update:visible","initData","editRole","updataData","doUpdataRole","close","staticRenderFns","Role_editvue_type_template_id_056a7131_render","directives","name","rawName","formData","rules","formRules","$utils","toDateString","createdTime","updatedTime","_e","_l","item","data","checkedKeys","selectedMenu","$emit","handleUpdateData","Role_editvue_type_template_id_056a7131_staticRenderFns","Role_menuvue_type_template_id_37b497e6_render","placeholder","filterText","isTreeExpand","handleExpandSwitch","show-checkbox","default-checked-keys","node-key","menuTreeProps","default-expand-all","draggable","render-content","doRenderTreeContent","filter-node-method","doFilterNode","check-change","doCheckChange","Role_menuvue_type_template_id_37b497e6_staticRenderFns","Role_menuvue_type_script_lang_js_","Array","default","children","menuVisible","watch","handler","val","immediate","filter","methods","treeExpandSwitch","getCheckedKeys","isMenuName","menuName","includes","isMenuUrl","menuUrl","h","_ref","node","_menuIcon","store","menuIcon","class","content","placement","effect","menuOpenWay","usrm_Role_menuvue_type_script_lang_js_","component","Object","componentNormalizer","Role_menu","Role_editvue_type_script_lang_js_","components","RoleMenu","inject","loading","assign","roleName","required","message","trigger","roleCode","mounted","uuid","initPermSelect","_initPermSelect","asyncToGenerator","regeneratorRuntime","mark","_callee","resp","_this","_context","prev","next","sysRoleMgrApi","getSelectPerm","roleUuid","sent","keys","forEach","permType","t0","finish","stop","_x","apply","arguments","_handleUpdateData","_callee2","_context2","validate","permUuids","1","usrm_Role_editvue_type_script_lang_js_","Role_edit_component","Role_edit","DefaultRole","roleDesc","createdUser","updatedUser","RoleMgrvue_type_script_lang_js_","RoleMgrEdit","provide","permMap","checkStrictly","emitPath","pagerCount","initOrgTree","initPermMap","_initPermMap","sysPermMgrApi","getPermMap","clear","toArrayTree","parentKey","sortKey","push","_initOrgTree","_this2","sysOrgMgrApi","getOrgTree","eachTree","length","element","params","querySysRole","loadData","_handleDelRole","_callee3","_context3","delSysRole","_doUpdataRole","_callee4","_context4","saveSysRole","_x2","usrm_RoleMgrvue_type_script_lang_js_","RoleMgr_component","__webpack_exports__","_lib_ajax__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","saveSysOrg","ajax","post","getSysOrg","get","delSysOrg","param","delete","getRoleByOrgUuid","saveSysPerm","querySysPerm","delSysPerm"],"mappings":"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","file":"js/chunk-20d3293b.d0f68799.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('flex-container',{attrs:{\"wrap\":\"nowrap\",\"justifyContent\":\"space-between\"}},[_c('flex-item',{attrs:{\"grow\":1,\"width\":\"100%\"}},[_c('el-card',[_c('flex-container',{attrs:{\"slot\":\"header\",\"justifyContent\":\"space-between\"},slot:\"header\"},[_c('flex-item',{attrs:{\"alignItems\":\"center\"}},[_c('i',{staticClass:\"el-icon-user margin-right-6 font-size-16\"}),_vm._v(\"角色管理\\n        \")]),_c('flex-item',{attrs:{\"alignItems\":\"center\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"circle\":\"\",\"icon\":\"el-icon-plus\",\"title\":\"添加\"},on:{\"click\":_vm.handleAddRole}}),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"circle\":\"\",\"icon\":\"el-icon-search\",\"title\":\"查询\"},on:{\"click\":_vm.handleQueryRole}}),_c('el-button',{attrs:{\"size\":\"mini\",\"circle\":\"\",\"plain\":\"\",\"icon\":\"el-icon-refresh-left\",\"title\":\"重置\"},on:{\"click\":function($event){return _vm.$refs['roleForm'].resetFields()}}})],1)],1),_c('flex-container',{attrs:{\"direction\":\"column\",\"wrap\":\"nowrap\"}},[_c('flex-item',{staticClass:\"margin-bottom-10\"},[_c('el-form',{ref:\"roleForm\",staticClass:\"form-style-line\",attrs:{\"model\":_vm.roleForm,\"label-position\":\"right\",\"label-width\":\"90px\"}},[_c('el-row',[_c('col-pr',[_c('el-form-item',{attrs:{\"label\":\"隶属组织 :\",\"prop\":\"orgUuid\"}},[_c('el-cascader',{attrs:{\"options\":_vm.orgTree,\"props\":_vm.orgTreeProps,\"clearable\":\"\"},model:{value:(_vm.roleForm.orgUuid),callback:function ($$v) {_vm.$set(_vm.roleForm, \"orgUuid\", $$v)},expression:\"roleForm.orgUuid\"}})],1)],1),_c('col-pr',[_c('el-form-item',{attrs:{\"label\":\"角色编码 :\",\"prop\":\"roleCode\"}},[_c('el-input',{attrs:{\"maxlength\":\"50\",\"show-word-limit\":\"\"},model:{value:(_vm.roleForm.roleCode),callback:function ($$v) {_vm.$set(_vm.roleForm, \"roleCode\", $$v)},expression:\"roleForm.roleCode\"}})],1)],1),_c('col-pr',[_c('el-form-item',{attrs:{\"label\":\"角色名称 :\",\"prop\":\"roleName\"}},[_c('el-input',{attrs:{\"maxlength\":\"50\",\"show-word-limit\":\"\"},model:{value:(_vm.roleForm.roleName),callback:function ($$v) {_vm.$set(_vm.roleForm, \"roleName\", $$v)},expression:\"roleForm.roleName\"}})],1)],1)],1)],1)],1),_c('flex-item',[_c('data-table',{ref:\"roleTable\",attrs:{\"border\":\"\",\"index\":\"\",\"auto-load\":\"\",\"highlight-current-row\":\"\",\"auto-update\":\"\",\"column-button\":\"\",\"csv-button\":\"\",\"title\":\"Data Table\",\"load-data-func\":_vm.loadRole,\"pageOptions\":_vm.pageOptions}},[_c('data-table-column',{attrs:{\"prop\":\"roleName\",\"label\":\"角色名称\",\"show-overflow-tooltip\":\"\"}}),_c('data-table-column',{attrs:{\"prop\":\"roleCode\",\"label\":\"角色编码\",\"show-overflow-tooltip\":\"\"}}),_c('data-table-column',{attrs:{\"prop\":\"orgUuid\",\"label\":\"隶属组织\",\"show-overflow-tooltip\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-cascader',{staticClass:\"cascader-table-disabled\",attrs:{\"options\":_vm.orgTree,\"value\":scope.row.orgUuid,\"props\":_vm.orgViewProps,\"disabled\":\"\"}})]}}])}),_c('data-table-column',{attrs:{\"prop\":\"roleDesc\",\"label\":\"角色描述\",\"show-overflow-tooltip\":\"\"}}),_c('data-table-column',{attrs:{\"prop\":\"op\",\"label\":\"操作\",\"align\":\"center\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-edit\",\"title\":\"编辑\"},on:{\"click\":function($event){return _vm.handleEditRole(scope.row)}}}),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-delete\",\"title\":\"删除\"},on:{\"click\":function($event){return _vm.handleDelRole(scope.row)}}})]}}])})],1)],1)],1)],1)],1),_c('dialog-drag',{attrs:{\"title\":\"角色编辑\",\"visible\":_vm.showRoleDia,\"top\":\"8vh\"},on:{\"update:visible\":function($event){_vm.showRoleDia=$event}}},[_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('i',{staticClass:\"el-icon-edit margin-right-4\"}),_vm._v(\"角色编辑\\n    \")]),_c('role-mgr-edit',{attrs:{\"initData\":_vm.editRole},on:{\"updataData\":_vm.doUpdataRole,\"close\":function($event){_vm.showRoleDia=false}}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('flex-container',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[_c('el-form',{ref:\"editForm\",staticClass:\"form-style-line\",attrs:{\"model\":_vm.formData,\"rules\":_vm.formRules,\"label-position\":\"right\",\"label-width\":\"90px\"}},[_c('el-row',[_c('el-col',[_c('el-form-item',{attrs:{\"label\":\"角色名称 :\",\"prop\":\"roleName\"}},[_c('el-input',{attrs:{\"maxlength\":\"10\",\"show-word-limit\":\"\"},model:{value:(_vm.formData.roleName),callback:function ($$v) {_vm.$set(_vm.formData, \"roleName\", $$v)},expression:\"formData.roleName\"}})],1)],1),_c('el-col',[_c('el-form-item',{attrs:{\"label\":\"角色编码 :\",\"prop\":\"roleCode\"}},[_c('el-input',{attrs:{\"maxlength\":\"10\",\"show-word-limit\":\"\"},model:{value:(_vm.formData.roleCode),callback:function ($$v) {_vm.$set(_vm.formData, \"roleCode\", $$v)},expression:\"formData.roleCode\"}})],1)],1),_c('el-col',[_c('el-form-item',{attrs:{\"label\":\"隶属组织 :\",\"prop\":\"orgUuid\"}},[_c('el-cascader',{attrs:{\"options\":_vm.orgTree,\"props\":_vm.orgTreeProps,\"clearable\":\"\"},model:{value:(_vm.formData.orgUuid),callback:function ($$v) {_vm.$set(_vm.formData, \"orgUuid\", $$v)},expression:\"formData.orgUuid\"}})],1)],1),_c('el-col',[_c('el-form-item',{attrs:{\"label\":\"角色描述 :\",\"prop\":\"roleDesc\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"maxlength\":\"512\",\"show-word-limit\":\"\"},model:{value:(_vm.formData.roleDesc),callback:function ($$v) {_vm.$set(_vm.formData, \"roleDesc\", $$v)},expression:\"formData.roleDesc\"}})],1)],1),(_vm.formData.createdUser)?[_c('el-col',[_c('el-form-item',{attrs:{\"label\":\"创建用户 :\",\"prop\":\"createdUser\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.formData.createdUser),callback:function ($$v) {_vm.$set(_vm.formData, \"createdUser\", $$v)},expression:\"formData.createdUser\"}})],1)],1),_c('el-col',[_c('el-form-item',{attrs:{\"label\":\"创建时间 :\",\"prop\":\"createdTime\"}},[_c('el-input',{attrs:{\"value\":_vm.$utils.toDateString(_vm.formData.createdTime,'yyyy-MM-dd HH:mm:ss'),\"disabled\":\"\"}})],1)],1),_c('el-col',[_c('el-form-item',{attrs:{\"label\":\"更新用户 :\",\"prop\":\"updatedUser\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.formData.updatedUser),callback:function ($$v) {_vm.$set(_vm.formData, \"updatedUser\", $$v)},expression:\"formData.updatedUser\"}})],1)],1),_c('el-col',[_c('el-form-item',{attrs:{\"label\":\"更新时间 :\",\"prop\":\"updatedTime\"}},[_c('el-input',{attrs:{\"value\":_vm.$utils.toDateString(_vm.formData.updatedTime,'yyyy-MM-dd HH:mm:ss'),\"disabled\":\"\"}})],1)],1)]:_vm._e()],2)],1),_c('flex-container',{staticClass:\"padding-10\"},[_c('flex-item',{attrs:{\"width\":\"100%\"}},[_c('el-tabs',_vm._l((_vm.permMap),function(item){return _c('el-tab-pane',{key:item.key,attrs:{\"label\":item.label}},[(item.key==='1')?_c('role-menu',{attrs:{\"data\":item.data,\"checkedKeys\":_vm.checkedKeys},model:{value:(_vm.selectedMenu),callback:function ($$v) {_vm.selectedMenu=$$v},expression:\"selectedMenu\"}}):_vm._e()],1)}),1)],1)],1),_c('flex-container',{staticClass:\"footer\",attrs:{\"justifyContent\":\"flex-end\"}},[_c('el-button',{on:{\"click\":function($event){return _vm.$emit('close')}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleUpdateData}},[_vm._v(\"确 定\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('flex-container',{attrs:{\"direction\":\"column\",\"wrap\":\"nowrap\"}},[_c('flex-container',[_c('flex-item',{attrs:{\"grow\":1}},[_c('el-form',{staticClass:\"form-style-line\"},[_c('el-form-item',[_c('el-input',{attrs:{\"placeholder\":\"输入菜单名称或路径进行过滤\",\"maxlength\":\"10\",\"show-word-limit\":\"\"},model:{value:(_vm.filterText),callback:function ($$v) {_vm.filterText=$$v},expression:\"filterText\"}})],1)],1)],1),_c('flex-item',{attrs:{\"alignItems\":\"center\"}},[_c('el-button',{attrs:{\"type\":\"pinforimary\",\"size\":\"mini\",\"plain\":\"\",\"icon\":_vm.isTreeExpand?'icon-ali ali-tuceng':'icon-ali ali-tuceng1',\"title\":_vm.isTreeExpand?'全部折叠':'全部展开'},on:{\"click\":_vm.handleExpandSwitch}})],1)],1),_c('flex-item',[_c('el-tree',{ref:\"menuTree\",attrs:{\"show-checkbox\":\"\",\"data\":_vm.data,\"default-checked-keys\":_vm.checkedKeys,\"node-key\":_vm.menuTreeProps.key,\"props\":_vm.menuTreeProps,\"default-expand-all\":\"\",\"draggable\":\"\",\"render-content\":_vm.doRenderTreeContent,\"filter-node-method\":_vm.doFilterNode},on:{\"check-change\":_vm.doCheckChange}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * @Author: Sun Rising \n * @Date: 2019-06-13 10:57:44 \n * @Last Modified by: Sun Rising\n * @Last Modified time: 2019-07-10 18:50:40\n * @Description: 角色-菜单关联\n */\n<template>\n  <flex-container direction=\"column\" wrap='nowrap'>\n\n    <flex-container>\n      <flex-item :grow='1'>\n        <el-form class=\"form-style-line\">\n          <el-form-item>\n            <el-input placeholder=\"输入菜单名称或路径进行过滤\" v-model=\"filterText\" maxlength=\"10\" show-word-limit></el-input>\n          </el-form-item>\n        </el-form>\n      </flex-item>\n      <flex-item alignItems='center'>\n        <el-button type=\"pinforimary\" size=\"mini\" plain @click=\"handleExpandSwitch\" :icon=\"isTreeExpand?'icon-ali ali-tuceng':'icon-ali ali-tuceng1'\" :title=\"isTreeExpand?'全部折叠':'全部展开'\"></el-button>\n      </flex-item>\n    </flex-container>\n\n    <flex-item>\n      <el-tree ref=\"menuTree\" show-checkbox :data=\"data\" :default-checked-keys='checkedKeys' @check-change='doCheckChange' :node-key=\"menuTreeProps.key\" :props=\"menuTreeProps\" default-expand-all draggable :render-content=\"doRenderTreeContent\" :filter-node-method=\"doFilterNode\"></el-tree>\n    </flex-item>\n\n  </flex-container>\n</template>\n\n<script>\nexport default {\n  props: {\n    data: {\n      type: Array,\n      default: () => {\n        return [];\n      }\n    },\n    value: {\n      type: Array,\n      default: () => {\n        return [];\n      }\n    },\n    checkedKeys: {\n      type: Array,\n      default: () => {\n        return [];\n      }\n    }\n  },\n  data() {\n    return {\n      filterText: \"\",\n      //树展开\n      isTreeExpand: true,\n      //菜单树配置\n      menuTreeProps: {\n        children: \"children\",\n        label: \"menuName\",\n        key: \"uuid\",\n        disabled: data => {\n          return data.menuVisible !== \"1\";\n        }\n      }\n    };\n  },\n  watch: {\n    checkedKeys: {\n      handler: function(val) {\n        this.$emit(\"input\", val);\n      },\n      immediate: true\n    },\n    filterText(val) {\n      this.$refs[\"menuTree\"].filter(val);\n    }\n  },\n  methods: {\n    //切换树展开\n    handleExpandSwitch() {\n      this.isTreeExpand = !this.isTreeExpand;\n      this.$utils.treeExpandSwitch(this.$refs[\"menuTree\"], this.isTreeExpand);\n    },\n    //选择的菜单发生改变\n    doCheckChange() {\n      this.$emit(\"input\", this.$refs[\"menuTree\"].getCheckedKeys());\n    },\n    //树节点过滤\n    doFilterNode(value, data) {\n      let isMenuName = data.menuName.includes(value);\n      let isMenuUrl = data.menuUrl.includes(value);\n      return isMenuName || isMenuUrl;\n    },\n    //渲染树\n    doRenderTreeContent(h, { node, data, store }) {\n      //----------------- 图标区 开始 ------------------------------------\n      let _menuIcon =\n        data.menuIcon +\n        (data.menuVisible == 1 ? \" icon-color-success\" : \" icon-color-info\");\n      //----------------- 图标区 结束 ------------------------------------\n      return (\n        <flex-container\n          wrap=\"nowrap\"\n          alignItems=\"center\"\n          justifyContent=\"space-between\"\n        >\n          <flex-item alignItems=\"center\">\n            <span class=\"margin-right-2\">\n              <i class={_menuIcon} />\n            </span>\n            <el-tooltip\n              content={data.menuUrl}\n              placement=\"right\"\n              effect={data.menuOpenWay == 1 ? \"dark\" : \"light\"}\n            >\n              <span class=\"icon-size-14\">{node.label}</span>\n            </el-tooltip>\n          </flex-item>\n        </flex-container>\n      );\n    }\n  }\n};\n</script>\n\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Role_menu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Role_menu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Role_menu.vue?vue&type=template&id=37b497e6&\"\nimport script from \"./Role_menu.vue?vue&type=script&lang=js&\"\nexport * from \"./Role_menu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/**\n * @Author: Sun Rising \n * @Date: 2019-06-13 10:57:44 \n * @Last Modified by: Sun Rising\n * @Last Modified time: 2019-07-10 18:51:01\n * @Description: 权限编辑\n */\n<template>\n  <flex-container v-loading='loading'>\n\n    <el-form ref=\"editForm\" :model=\"formData\" :rules=\"formRules\" label-position=\"right\" label-width=\"90px\" class=\"form-style-line\">\n      <el-row>\n        <el-col>\n          <el-form-item label=\"角色名称 :\" prop=\"roleName\">\n            <el-input v-model=\"formData.roleName\" maxlength=\"10\" show-word-limit></el-input>\n          </el-form-item>\n        </el-col>\n        <el-col>\n          <el-form-item label=\"角色编码 :\" prop=\"roleCode\">\n            <el-input v-model=\"formData.roleCode\" maxlength=\"10\" show-word-limit></el-input>\n          </el-form-item>\n        </el-col>\n        <el-col>\n          <el-form-item label=\"隶属组织 :\" prop=\"orgUuid\">\n            <el-cascader :options=\"orgTree\" v-model=\"formData.orgUuid\" :props=\"orgTreeProps\" clearable></el-cascader>\n          </el-form-item>\n        </el-col>\n        <el-col>\n          <el-form-item label=\"角色描述 :\" prop=\"roleDesc\">\n            <el-input type=\"textarea\" v-model=\"formData.roleDesc\" maxlength=\"512\" show-word-limit></el-input>\n          </el-form-item>\n        </el-col>\n        <template v-if=\"formData.createdUser\">\n          <el-col>\n            <el-form-item label=\"创建用户 :\" prop=\"createdUser\">\n              <el-input v-model=\"formData.createdUser\" disabled></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col>\n            <el-form-item label=\"创建时间 :\" prop=\"createdTime\">\n              <el-input :value=\"$utils.toDateString(formData.createdTime,'yyyy-MM-dd HH:mm:ss')\" disabled></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col>\n            <el-form-item label=\"更新用户 :\" prop=\"updatedUser\">\n              <el-input v-model=\"formData.updatedUser\" disabled></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col>\n            <el-form-item label=\"更新时间 :\" prop=\"updatedTime\">\n              <el-input :value=\"$utils.toDateString(formData.updatedTime,'yyyy-MM-dd HH:mm:ss')\" disabled></el-input>\n            </el-form-item>\n          </el-col>\n        </template>\n      </el-row>\n    </el-form>\n    <flex-container class=\"padding-10\">\n      <flex-item width=\"100%\">\n        <el-tabs>\n          <el-tab-pane v-for=\"item in permMap\" :key=\"item.key\" :label=\"item.label\">\n            <role-menu v-if=\"item.key==='1'\" :data='item.data' :checkedKeys='checkedKeys' v-model=\"selectedMenu\"></role-menu>\n          </el-tab-pane>\n        </el-tabs>\n      </flex-item>\n    </flex-container>\n\n    <flex-container class=\"footer\" justifyContent='flex-end'>\n      <el-button @click=\"$emit('close')\">取 消</el-button>\n      <el-button @click=\"handleUpdateData\" type=\"primary\">确 定</el-button>\n    </flex-container>\n\n  </flex-container>\n</template>\n\n<script>\nimport SysRoleMgrApi from \"@/api/usrm/sysRoleMgrApi.js\";\nimport RoleMenu from \"./Role_menu\";\n\nexport default {\n  components: { RoleMenu },\n  props: {\n    initData: {\n      type: Object\n    }\n  },\n  inject: [\"orgTree\", \"orgTreeProps\", \"permMap\"],\n  data() {\n    return {\n      loading: false,\n      //选择的菜单\n      selectedMenu: [],\n      //默认选择的菜单keys\n      checkedKeys: [],\n      formData: Object.assign({}, this.initData),\n      formRules: {\n        roleName: [\n          { required: true, message: \"请输入角色名称 !\", trigger: \"change\" }\n        ],\n        roleCode: [\n          { required: true, message: \"请输入角色编码 !\", trigger: \"change\" }\n        ],\n        orgUuid: [\n          { required: true, message: \"请选择隶属组织 !\", trigger: \"change\" }\n        ]\n      }\n    };\n  },\n  mounted() {\n    if (this.initData.uuid) this.initPermSelect(this.initData.uuid);\n  },\n  methods: {\n    //初始化权限选择\n    async initPermSelect(uuid) {\n      try {\n        this.loading = true;\n        let resp = await SysRoleMgrApi.getSelectPerm({ roleUuid: uuid });\n        Object.keys(resp.data).forEach(permType => {\n          if (permType === \"1\") this.checkedKeys = resp.data[permType];\n        });\n      } catch (error) {\n      } finally {\n        this.loading = false;\n      }\n    },\n    //确认修改\n    async handleUpdateData() {\n      try {\n        await this.$refs[\"editForm\"].validate();\n        this.formData.permUuids = {\n          //装配菜单资源\n          \"1\": this.selectedMenu\n        };\n        this.$emit(\"updataData\", this.formData);\n        this.$emit(\"close\");\n      } catch (error) {}\n    }\n  }\n};\n</script>\n\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Role_edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Role_edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Role_edit.vue?vue&type=template&id=056a7131&\"\nimport script from \"./Role_edit.vue?vue&type=script&lang=js&\"\nexport * from \"./Role_edit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/**\n * @Author: Sun Rising \n * @Date: 2019-06-12 15:25:40 \n * @Last Modified by: Sun Rising\n * @Last Modified time: 2019-07-10 13:17:53\n * @Description: 角色管理\n */\n<template>\n  <flex-container wrap='nowrap' justifyContent='space-between'>\n\n    <flex-item :grow='1' width='100%'>\n      <el-card>\n        <flex-container slot=\"header\" justifyContent='space-between'>\n          <flex-item alignItems='center'>\n            <i class=\"el-icon-user margin-right-6 font-size-16\"></i>角色管理\n          </flex-item>\n          <flex-item alignItems='center'>\n            <el-button type=\"primary\" size=\"mini\" @click=\"handleAddRole\" circle icon=\"el-icon-plus\" title=\"添加\"></el-button>\n            <el-button type=\"primary\" @click=\"handleQueryRole\" size=\"mini\" circle icon=\"el-icon-search\" title=\"查询\"></el-button>\n            <el-button size=\"mini\" @click=\"$refs['roleForm'].resetFields()\" circle plain icon=\"el-icon-refresh-left\" title=\"重置\"></el-button>\n          </flex-item>\n        </flex-container>\n        <flex-container direction=\"column\" wrap='nowrap'>\n          <flex-item class=\"margin-bottom-10\">\n            <el-form ref=\"roleForm\" :model=\"roleForm\" label-position=\"right\" label-width=\"90px\" class=\"form-style-line\">\n              <el-row>\n                <col-pr>\n                  <el-form-item label=\"隶属组织 :\" prop=\"orgUuid\">\n                    <el-cascader :options=\"orgTree\" v-model=\"roleForm.orgUuid\" :props=\"orgTreeProps\" clearable></el-cascader>\n                  </el-form-item>\n                </col-pr>\n                <col-pr>\n                  <el-form-item label=\"角色编码 :\" prop=\"roleCode\">\n                    <el-input v-model=\"roleForm.roleCode\" maxlength=\"50\" show-word-limit></el-input>\n                  </el-form-item>\n                </col-pr>\n                <col-pr>\n                  <el-form-item label=\"角色名称 :\" prop=\"roleName\">\n                    <el-input v-model=\"roleForm.roleName\" maxlength=\"50\" show-word-limit></el-input>\n                  </el-form-item>\n                </col-pr>\n              </el-row>\n            </el-form>\n          </flex-item>\n          <flex-item>\n            <data-table ref=\"roleTable\" border index auto-load highlight-current-row auto-update column-button csv-button title=\"Data Table\" :load-data-func='loadRole' :pageOptions='pageOptions'>\n              <data-table-column prop=\"roleName\" label=\"角色名称\" show-overflow-tooltip></data-table-column>\n              <data-table-column prop=\"roleCode\" label=\"角色编码\" show-overflow-tooltip></data-table-column>\n              <data-table-column prop=\"orgUuid\" label=\"隶属组织\" show-overflow-tooltip>\n                <template slot-scope=\"scope\">\n                  <el-cascader class=\"cascader-table-disabled\" :options=\"orgTree\" :value=\"scope.row.orgUuid\" :props=\"orgViewProps\" disabled></el-cascader>\n                </template>\n              </data-table-column>\n              <data-table-column prop=\"roleDesc\" label=\"角色描述\" show-overflow-tooltip></data-table-column>\n              <data-table-column prop=\"op\" label=\"操作\" align='center' width='80'>\n                <template slot-scope=\"scope\">\n                  <el-button type=\"text\" @click=\"handleEditRole(scope.row)\" size=\"mini\" icon=\"el-icon-edit\" title=\"编辑\" />\n                  <el-button type=\"text\" @click=\"handleDelRole(scope.row)\" size=\"mini\" icon=\"el-icon-delete\" title=\"删除\" />\n                </template>\n              </data-table-column>\n            </data-table>\n          </flex-item>\n        </flex-container>\n      </el-card>\n    </flex-item>\n\n    <!-- 角色修改|添加面板 -->\n    <dialog-drag title=\"角色编辑\" :visible.sync=\"showRoleDia\" top='8vh'>\n      <span slot=\"title\">\n        <i class=\"el-icon-edit margin-right-4\"></i>角色编辑\n      </span>\n      <role-mgr-edit :initData='editRole' @updataData='doUpdataRole' @close='showRoleDia=false'></role-mgr-edit>\n    </dialog-drag>\n\n  </flex-container>\n</template>\n\n<script>\nimport SysRoleMgrApi from \"@/api/usrm/sysRoleMgrApi.js\";\nimport SysOrgMgrApi from \"@/api/usrm/sysOrgMgrApi.js\";\nimport SysPermMgrApi from \"@/api/usrm/sysPermMgrApi.js\";\nimport RoleMgrEdit from \"./Role_edit\";\n\n//默认的角色\nlet DefaultRole = {\n  uuid: null,\n  // 隶属组织\n  orgUuid: \"\",\n  // 角色编码\n  roleCode: \"\",\n  // 角色名称\n  roleName: \"\",\n  // 角色描述\n  roleDesc: \"\",\n  // 创建人\n  createdUser: \"\",\n  // 创建时间\n  createdTime: \"\",\n  // 更新人\n  updatedUser: \"\",\n  // 更新时间\n  updatedTime: \"\",\n  //权限资源集合\n  permUuids: null\n};\n\nexport default {\n  components: {\n    RoleMgrEdit\n  },\n  provide() {\n    return {\n      orgTree: this.orgTree,\n      orgTreeProps: this.orgTreeProps,\n      permMap: this.permMap\n    };\n  },\n  data() {\n    return {\n      //权限资源\n      permMap: [],\n      //组织树\n      orgTree: [],\n      //组织下拉配置\n      orgTreeProps: {\n        checkStrictly: true,\n        emitPath: false,\n        value: \"uuid\",\n        label: \"orgName\"\n      },\n      //组织反显配置\n      orgViewProps: {\n        checkStrictly: true,\n        emitPath: false,\n        value: \"uuid\",\n        label: \"orgName\"\n      },\n      //显示角色修改|添加面板\n      showRoleDia: false,\n      //角色查询form\n      roleForm: {\n        // 隶属组织\n        orgUuid: \"\",\n        // 角色编码\n        roleCode: \"\",\n        // 角色名称\n        roleName: \"\"\n      },\n      //分页参数\n      pageOptions: {\n        pagerCount: 5\n      },\n      //组件传值\n      editRole: {}\n    };\n  },\n  mounted() {\n    this.initOrgTree();\n    this.initPermMap();\n  },\n  methods: {\n    //初始化权限资源\n    async initPermMap() {\n      let resp = await SysPermMgrApi.getPermMap();\n      this.$utils.clear(this.permMap);\n      Object.keys(resp.data).forEach(key => {\n        let data;\n        if (key === \"1\")\n          data = this.$utils.toArrayTree(resp.data[key], {\n            key: \"menuUrl\",\n            parentKey: \"menuParent\",\n            children: \"children\",\n            sortKey: \"menuOrde\"\n          });\n        this.permMap.push({\n          key: key,\n          label: \"菜单资源\",\n          data: data\n        });\n      });\n    },\n    //初始化组织下拉\n    async initOrgTree() {\n      try {\n        let resp = await SysOrgMgrApi.getOrgTree();\n        this.$utils.eachTree(resp.data, item => {\n          if (item.children.length === 0) delete item.children;\n        });\n        this.$utils.clear(this.orgTree);\n        resp.data.forEach(element => this.orgTree.push(element));\n      } catch (error) {}\n    },\n    //角色查询接口\n    loadRole(params) {\n      return SysRoleMgrApi.querySysRole(params);\n    },\n    //查询按钮\n    handleQueryRole() {\n      this.$refs[\"roleTable\"].loadData(this.roleForm);\n    },\n    //修改角色\n    handleEditRole(row) {\n      this.editRole = Object.assign({}, row);\n      this.showRoleDia = true;\n    },\n    //添加角色\n    handleAddRole() {\n      this.editRole = Object.assign({}, DefaultRole);\n      this.showRoleDia = true;\n    },\n    //删除角色\n    async handleDelRole(row) {\n      try {\n        await SysRoleMgrApi.delSysRole([row.uuid]);\n      } finally {\n        this.handleQueryRole();\n      }\n    },\n    //角色更新回调\n    async doUpdataRole(data) {\n      try {\n        await SysRoleMgrApi.saveSysRole(data);\n      } finally {\n        this.handleQueryRole();\n      }\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoleMgr.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoleMgr.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoleMgr.vue?vue&type=template&id=83fb4c64&\"\nimport script from \"./RoleMgr.vue?vue&type=script&lang=js&\"\nexport * from \"./RoleMgr.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/**\r\n * @Author: Sun Rising\r\n * @Date: 2018-12-17 16:10:36\r\n * @Last Modified by: Sun Rising\r\n * @Last Modified time: 2019-06-27 09:15:12\r\n * @Description: 系统组织管理对外接口\r\n */\r\nimport ajax from \"@/lib/ajax\";\r\n\r\nexport default {\r\n  //保存系统组织\r\n  saveSysOrg(data) {\r\n    return ajax.post(\"/usrm/orgMgr/saveSysOrg\", data);\r\n  },\r\n  //获取系统组织\r\n  getSysOrg() {\r\n    return ajax.get(\"/usrm/orgMgr/getSysOrg\");\r\n  },\r\n  //删除系统组织\r\n  delSysOrg(param) {\r\n    return ajax.delete(\"/usrm/orgMgr/delSysOrg/\" + param);\r\n  },\r\n  //获取可用的系统组织树\r\n  getOrgTree() {\r\n    return ajax.get(\"/usrm/orgMgr/getOrgTree\");\r\n  }\r\n};\r\n","/**\r\n * @Author: Sun Rising\r\n * @Date: 2018-12-17 16:10:36\r\n * @Last Modified by: Sun Rising\r\n * @Last Modified time: 2019-07-02 17:39:48\r\n * @Description: 系统角色管理对外接口\r\n */\r\nimport ajax from \"@/lib/ajax\";\r\n\r\nexport default {\r\n  //保存系统角色\r\n  saveSysRole(data) {\r\n    return ajax.post(\"/usrm/roleMgr/saveSysRole\", data);\r\n  },\r\n  //获取系统角色\r\n  querySysRole(params) {\r\n    return ajax.get(\"/usrm/roleMgr/querySysRole\", { params: params });\r\n  },\r\n  //删除系统角色\r\n  delSysRole(param) {\r\n    return ajax.delete(\"/usrm/roleMgr/delSysRole/\" + param);\r\n  },\r\n  //获取已选择的资源\r\n  getSelectPerm(params) {\r\n    return ajax.get(\"/usrm/roleMgr/getSelectPerm\", { params: params });\r\n  },\r\n  //通过组织机构UUID获取角色\r\n  getRoleByOrgUuid(params) {\r\n    return ajax.get(\"/usrm/roleMgr/getRoleByOrgUuid\", { params: params });\r\n  }\r\n};\r\n","/**\r\n * @Author: Sun Rising\r\n * @Date: 2018-12-17 16:10:36\r\n * @Last Modified by: Sun Rising\r\n * @Last Modified time: 2019-07-02 17:42:28\r\n * @Description: 系统权限管理对外接口\r\n */\r\nimport ajax from \"@/lib/ajax\";\r\n\r\nexport default {\r\n  //保存系统权限\r\n  saveSysPerm(data) {\r\n    return ajax.post(\"/usrm/permMgr/saveSysPerm\", data);\r\n  },\r\n  //获取系统权限\r\n  querySysPerm(params) {\r\n    return ajax.get(\"/usrm/permMgr/querySysPerm\", { params: params });\r\n  },\r\n  //删除系统权限\r\n  delSysPerm(param) {\r\n    return ajax.delete(\"/usrm/permMgr/delSysPerm/\" + param);\r\n  },\r\n  //获取权限类别Map\r\n  getPermMap() {\r\n    return ajax.get(\"/usrm/permMgr/getPermMap\");\r\n  }\r\n};\r\n"],"sourceRoot":""}